title: DB information extractor

nodes:
  - id: question_input
    type: trigger.stdin
    prompt: 'Your query: '
    next: translator

  - id: thinker
    type: agent.completion
    # In real life scenario you should specify here:
    # - Which DB is used?
    # - What are the tables and columns?
    # - Schema of the DB.
    system_message: 'Your task is to think about how to translate the user query in natural langauge in SQL langauge. Think step by steps.'
    user_message: '{{question_input}}'
    next: query

  - id: query
    type: agent.completion
    system_message: 'Your task to make an SQL code based on user query in natural language and the results of thinking on that query'.
    user_message: 'Query: {{question_input}}. Thoughts: {{thinker}}'

  - id: output
    type: event.stdout
    output: '{{query}}'
    next: scenario.termination
