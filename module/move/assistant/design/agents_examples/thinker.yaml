title: Thinker
description: >
  This example demonstrates use of 2 agents: the first agent will think thoroughly on the user input.
  It will utilize prompts like Chain-of-Thought: "Think step by step". This prompt increases the performance
  of the model tens of times, however it introduces too much output. For that we utilize the second agent.

nodes:
  - id: question_input
    type: trigger.stdin
    prompt: 'Your question: '
    next: cleaner

  - id: thinker
    type: agent.completion
    system_message: > # This system prompt could be improved more, but for the sake of the example, we will leave it simple.
      You are a methodical and knowledgeable assistant tasked with answering user questions thoroughly using a
      chain-of-thought approach. Break down complex queries into components, outline a logical plan, and explain
      each step in detail with examples or analogies as needed.
    user_message: '{{question_input}}'
    next: answer

  - id: summarizer
    type: agent.completion
    system_message: >
      You are a summarizer tasked with distilling detailed responses into clear, concise summaries.
      Capture key points and main conclusions, removing unnecessary details while preserving essential meaning and logical flow.
      But don't forget about code, it should be preserved.
    user_message: 'Question: {{thinker}}'
    next: output

  - id: output
    type: event.stdout
    output: 'Answer: {{summarizer}}'
    next: scenario.termination
